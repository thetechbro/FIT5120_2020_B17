<mat-toolbar class="sticky-toolbar">
  <mat-toolbar-row class="app-header">
    <span class="display-flex">
      <button (click)="dialogRef.close()" mat-icon-button>
        <mat-icon>arrow_back</mat-icon>
      </button>
      <span class="inline-flex-center">Back
      </span>
    </span>
  </mat-toolbar-row>
  <mat-toolbar-row [style.height.px]="2" [style.padding.px]="0">
    <mat-progress-bar *ngIf="loading$ | async" mode="indeterminate"></mat-progress-bar>
  </mat-toolbar-row>
  <mat-toolbar-row [style.height.px]="1" [style.padding.px]="0">
    <mat-divider [style.width.%]="100"></mat-divider>
  </mat-toolbar-row>
</mat-toolbar>
<section class="container-margin-main" style="margin-top: 80px; margin-bottom: 20px;">
  <div class='spacer-height'></div>
  <div class='spacer-height'></div>
  <div class="mat-title">{{data.item?.AGED_CARE_NAME | titlecase}}</div>
  <div class='small-spacer-height'></div>
  <mat-divider class='black-divider'></mat-divider>
  <div class='spacer-height'></div>
  <div class="card-border">
    <div class="card-image">
      <img *ngIf="data.item['Organisation Type'] == 'Private Incorporated Body'"
        src="../assets/aged_care/private incorporated body.jpeg" alt="HOME" srcset="">
      <img *ngIf="data.item[
      'Organisation Type'] == 'Religious'" src="../assets/aged_care/religious.jpeg" alt="HOME" srcset="">
      <img *ngIf="data.item['Organisation Type'] == 'Community Based'" src="../assets/aged_care/community-based.jpeg"
        alt="HOME" srcset="">
      <img *ngIf="data.item['Organisation Type'] == 'State Government'" src="../assets/aged_care/state government.jpeg"
        alt="HOME" srcset="">
      <img *ngIf="data.item['Organisation Type'] == 'Charitable'" src="../assets/aged_care/charitable.jpeg" alt="HOME"
        srcset="">
    </div>
    <div class="card-content">
      <div class="mat-title">{{data.item.AGED_CARE_NAME | titlecase}}</div>
      <div class="mat-body-1">Organization Type:
        {{data.item['Organisation Type'] ? data.item['Organisation Type'] : '-'}}</div>
      <div class="mat-body-2">
        Postcode: {{data.item.STREET_PCODE}}
      </div>
    </div>
  </div>
  <div class='spacer-height'></div>
  <div class='spacer-height'></div>
  <div class='spacer-height'></div>
  <div class="mat-title">Description</div>
  <div class='small-spacer-height'></div>
  <mat-divider class='black-divider'></mat-divider>
  <div class='spacer-height'></div>
  <div class="mat-body-1">{{data.item?.DESCRIPTION}}</div>
  <div class='spacer-height'></div>
  <div class='spacer-height'></div>
  <div class="mat-title flex-space-between">
    <span class="inline-flex-center">Basic Information</span>
    <button *ngIf="!isOpenFacility" (click)="isOpenFacility = true" mat-icon-button>
      <mat-icon>expand_more</mat-icon>
    </button>
    <button *ngIf="isOpenFacility" (click)="isOpenFacility = false" mat-icon-button>
      <mat-icon>expand_less</mat-icon>
    </button>
  </div>
  <div class='small-spacer-height'></div>
  <mat-divider class='black-divider'></mat-divider>
  <div class='spacer-height'></div>
  <div class="round-border small-padding">
    <!-- <div class="mat-title">{{'COMMGOVT SUBSIDISED' | titlecase}}</div>
    <div class="mat-body-2">{{data.item?.COMMGOVT_SUBSIDISED || '-'}}</div>
    <div class='spacer-height'></div> -->
    <div class="mat-title">{{'ADDRESS' | titlecase}}</div>
    <div class="mat-body-2">{{data.item?.ADDRESS || '-'}}</div>
    <div class='spacer-height'></div>
    <div class="mat-title">{{'SUBURB' | titlecase}}</div>
    <div class="mat-body-2">{{data.item?.SUBURB || '-'}}</div>
    <div class='spacer-height'></div>
    <div class="mat-title">{{'STATE' | titlecase}}</div>
    <div class="mat-body-2">{{data.item?.STATE || '-'}}</div>
    <div class='spacer-height'></div>
    <ng-container *ngIf="!isOpenFacility">
      <button mat-stroked-button (click)="isOpenFacility = true">See More</button>
    </ng-container>
    <ng-container *ngIf="isOpenFacility">
      <div class="mat-title">{{'Postcode' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.STREET_PCODE || '-'}}</div>
      <div class='spacer-height'></div>
      <!-- <div class="mat-title">{{'BUS ST. ADDRESS' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.BUS_ST_ADDRESS || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'BUS PCODE' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.BUS_PCODE || '-'}}</div>
      <div class='spacer-height'></div> -->
      <div class="mat-title">{{'PHONE NUMBER' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.PHONE_NUMBER ? '+' + data.item?.PHONE_NUMBER : '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'EMAIL' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.EMAIL || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'WEBSITE' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.WEBSITE || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'description' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.DESCRIPTION || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'SPECIFIC FEATURES' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.SPECIFIC_FEATURES || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'ADDITIONAL CARE' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.ADDITIONAL_CARE || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'ADDITIONAL CARE COST' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.ADDITIONAL_CARE_COST || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'ACCREDITATION' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.ACCREDITATION || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'ACCREDITATION PERIOD' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.ACCREDITATION_PERIOD || '-'}}</div>
      <div class='spacer-height'></div>
      <!-- <div class="mat-title">{{'CERTIFICATION' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.CERTIFICATION || '-'}}</div>
      <div class='spacer-height'></div> -->
      <div class="mat-title">{{'Provider Name' | titlecase}}</div>
      <div class="mat-body-2">{{data.item['Provider Name'] || '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'Organisation Type' | titlecase}}</div>
      <div class="mat-body-2">{{data.item['Organisation Type'] || '-'}}</div>
      <!-- <div class='spacer-height'></div>
      <div class="mat-title">{{'Latitude' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.Latitude|| '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'Longitude' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.Longitude|| '-'}}</div> -->
      <div class='spacer-height'></div>
      <div class="mat-title">{{'SERVICE TYPE' | titlecase}}</div>
      <div class="mat-body-2">{{data.item?.SERVICE_TYPE|| '-'}}</div>
      <div class='spacer-height'></div>
      <div class="mat-title">{{'PARTICULAR NEED' | titlecase}}</div>
      <div class="mat-body-2">{{getPaticularNeed(data.item?.PARTICULAR_NEED_SERVICES)}}</div>
      <div class='spacer-height'></div>
      <button mat-stroked-button (click)="isOpenFacility = false">See Less</button>
    </ng-container>
  </div>

  <div class='spacer-height'></div>
  <div class='spacer-height'></div>
  <div class="mat-title flex-space-between">
    <span class="inline-flex-center">Room Detail</span>
    <button *ngIf="!isOpenRoomDetail" (click)="isOpenRoomDetail = true" mat-icon-button>
      <mat-icon>expand_more</mat-icon>
    </button>
    <button *ngIf="isOpenRoomDetail" (click)="isOpenRoomDetail = false" mat-icon-button>
      <mat-icon>expand_less</mat-icon>
    </button>
  </div>
  <div class='small-spacer-height'></div>
  <mat-divider class='black-divider'></mat-divider>
  <div class='spacer-height'></div>
  <div class="round-border small-padding">
    <div *ngFor="let room of data.item?.roomDetail;let i = index;" class="mat-body-2 content-padding">
      <ng-container *ngIf="i < 1 || isOpenRoomDetail">
        <div class="mat-title">{{'ROOM NAME' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.ROOM_NAME || '-'}}</div>
        </div>
        <!-- <div class='spacer-height'></div>
        <div class="mat-title">{{'ROOM Title' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.ROOM_TITLE || '-'}}</div>
        </div> -->
        <div class='spacer-height'></div>
        <div class="mat-title">{{'ROOM TYPE' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.ROOM_TYPE || '-'}}</div>
        </div>
        <div class='spacer-height'></div>
        <div class="mat-title">{{'ROOM DESCription' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.ROOM_DESC || '-'}}</div>
        </div>
        <div class='spacer-height'></div>
        <div class="mat-title">{{'REFUNDABLE PRICE' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.REFUNDABLE_PRICE || '-'}}</div>
        </div>
        <!-- <div class='spacer-height'></div>
        <div class="mat-title">{{'MAXIMUM ROOM OCCUPANCY' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.MAXIMUM_ROOM_OCCUPANCY || '-'}}</div>
        </div> -->
        <div class='spacer-height'></div>
        <div class="mat-title">{{'daily price' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.DAILY_PRICE || '-'}}</div>
        </div>
        <div class='spacer-height'></div>
        <div class="mat-title">{{'PAYMENT OPTIONS' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.PAYMENT_OPTIONS || '-'}}</div>
        </div>
        <div class='spacer-height'></div>
        <div class="mat-title">{{'Care type' | titlecase}}</div>
        <div class="card-grid">
          <div class="mat-body-2 content-padding">{{room.Care_Type || '-'}}</div>
        </div>
        <div class='spacer-height'></div>
        <mat-divider></mat-divider>
        <div class='spacer-height'></div>
      </ng-container>
    </div>
    <ng-container *ngIf="data.item?.roomDetail?.length > 1 && !isOpenRoomDetail">
      <button mat-stroked-button (click)="isOpenRoomDetail = true">See More</button>
    </ng-container>
    <ng-container *ngIf="data.item?.roomDetail?.length > 0 && isOpenRoomDetail">
      <button mat-stroked-button (click)="isOpenRoomDetail = false">See Less</button>
    </ng-container>
    <ng-container *ngIf="data.item?.roomDetail?.length == 0">
      <div class="mat-body-2">No room detail available.</div>
    </ng-container>
  </div>
  <button color="primary" class="sticky-fab-btn" (click)="scrollTop()" mat-mini-fab
    aria-label="icon-button with a scroll up icon">
    <mat-icon>keyboard_arrow_up</mat-icon>
  </button>
  <div class='spacer-height'></div>
  <div class='spacer-height'></div>
  <div *ngIf="data.item.Latitude && data.item.Longitude" style="width: 100%">
    <iframe width="100%" height="450" frameborder="0" style="border:0" [src]="getUrl()" allowfullscreen>
    </iframe>
  </div>
  <p>Nearby facilities for this Aged Care that are within 2km radius</p>
  <table mat-table [dataSource]="facilities$ | async" class="mat-elevation-z0 round-border">

    <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

    <!-- Position Column -->
    <ng-container matColumnDef="No">
      <th class="padding-table" mat-header-cell *matHeaderCellDef>No.</th>
      <td class="padding-table" mat-cell *matCellDef="let element; let i = index;">{{i + 1}}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="Name">
      <th class="padding-table" mat-header-cell *matHeaderCellDef> Facility Name </th>
      <td class="padding-table" mat-cell *matCellDef="let element"> {{element.FacilityName}} </td>
    </ng-container>


    <!-- Symbol Column -->
    <ng-container matColumnDef="Sports">
      <th class="padding-table" mat-header-cell *matHeaderCellDef> Sports </th>
      <td class="padding-table" mat-cell *matCellDef="let element"> {{element.SportsPlayed}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>



</section>
<app-footer></app-footer>
